(this["webpackJsonphydro-station-data"]=this["webpackJsonphydro-station-data"]||[]).push([[0],{258:function(e,a,t){e.exports=t(495)},266:function(e,a,t){},271:function(e,a,t){},487:function(e,a,t){},488:function(e,a,t){},489:function(e,a,t){},490:function(e,a,t){},491:function(e,a,t){},492:function(e,a,t){},493:function(e,a,t){},494:function(e,a,t){},495:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(242),r=t.n(c),o=t(55),s=t(6);t(266);const i=Object(l.createContext)(),m=()=>Object(l.useContext)(i),d=e=>{let{children:a}=e;const[t,c]=Object(l.useState)(!1),r={loading:t,setLoading:c};return n.a.createElement(i.Provider,{value:r},a)};var u=()=>{const{setLoading:e}=m();return Object(l.useEffect)(()=>{e(!0);const a=setTimeout(()=>e(!1),500);return()=>clearTimeout(a)},[e]),n.a.createElement("div",{className:"home-container"},n.a.createElement("header",{className:"home-header"},n.a.createElement("h1",null,"Portal HidroInfo"),n.a.createElement("p",null,"Informa\xe7\xf5es hidrol\xf3gicas e meteorol\xf3gicas ao seu alcance.")),n.a.createElement("main",{className:"home-content"},n.a.createElement("section",{className:"home-section"},n.a.createElement("h3",null,"Sobre o Aplicativo"),n.a.createElement("p",null,"O aplicativo HidroWeb mobile \xe9 uma ferramenta integrante do Sistema Nacional de Informa\xe7\xf5es sobre Recursos H\xeddricos (SNIRH), gerenciado pela Ag\xeancia Nacional de \xc1guas (ANA), e permite o acesso aos dados telem\xe9tricos coletados pela Rede Hidrometeorol\xf3gica Nacional (RHN)...")),n.a.createElement("section",{className:"home-section"},n.a.createElement("h3",null,"Funcionalidades"),n.a.createElement("ul",null,n.a.createElement("li",null,"Acesso a dados de esta\xe7\xf5es meteorol\xf3gicas em tempo real."),n.a.createElement("li",null,"Visualiza\xe7\xe3o de hist\xf3ricos de n\xedveis de \xe1gua e vaz\xf5es."),n.a.createElement("li",null,"Alertas para eventos hidrol\xf3gicos cr\xedticos."),n.a.createElement("li",null,"Mapas interativos para localiza\xe7\xe3o das esta\xe7\xf5es."))),n.a.createElement("section",{className:"home-section flex-section"},n.a.createElement("div",{className:"text-content"},n.a.createElement("h3",null,"Como Utilizar"),n.a.createElement("p",null,'Navegue pelo aplicativo para explorar as diferentes funcionalidades oferecidas. Utilize o menu principal para acessar se\xe7\xf5es espec\xedficas como "Estat\xedsticas", "Alertas", "Mapas" e muito mais.'),n.a.createElement("a",{href:"https://www.snirh.gov.br",target:"_blank",rel:"noopener noreferrer",className:"cta-button"},"Saiba mais")),n.a.createElement("div",{className:"home-gif-container"},n.a.createElement("img",{src:"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHNpcDM4cWNwZ28zeGZjcTIxMDZtNjI5ODhneGRpcGN6aXdqbW5lZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oKIPEqDGUULpEU0aQ/giphy.webp",alt:"Descri\xe7\xe3o do GIF",className:"home-gif"}),n.a.createElement("p",{className:"home-gif-credit"},n.a.createElement("a",{href:"https://giphy.com/gifs/cartoon-character-2d-3oKIPEqDGUULpEU0aQ",target:"_blank",rel:"noopener noreferrer"},"via GIPHY"))))),n.a.createElement("footer",{className:"home-footer"},n.a.createElement("p",null,"\xa9 2024 HidroInfo. Todos os direitos reservados.")))},E=t(500);const h="https://ows.snirh.gov.br/ords/servicos/hidro/";t(271);const v=e=>({soma_ult_leituras:"24 HORAS","ultimos 7d":"7 DIAS","ultimos 30d":"30 DIAS","ultimos 12 meses":"12 MESES"}[e]||e),g={soma_ult_leituras:"24 Horas","ultimos 7d":"7 Dias","ultimos 30d":"30 Dias","ultimos 12 meses":"12 Meses"},p={data:"Data",chuva:"Chuva (mm)",nivel:"N\xedvel (cm)",vazao:"Vaz\xe3o (m\xb3/s)"},b={nome:"Nome",bacia:"Bacia",subbacia:"Sub-bacia",rio:"Rio",estado:"Estado",municipio:"Munic\xedpio",latitude:"Latitude",longitude:"Longitude",escala:"Escala",operadora:"Operadora",operando:"Operando",responsavel:"Respons\xe1vel",telemetrica:"Telem\xe9trica",sedimentos:"Sedimentos",areadrenagem:"\xc1rea de Drenagem",climatologica:"Climatol\xf3gica",pluviometro:"Pluvi\xf4metro",tipoestacao:"Tipo de Esta\xe7\xe3o",descargaliquida:"Descarga L\xedquida",qualidadedaagua:"Qualidade da \xc1gua",registradornivel:"Registrador de N\xedvel",registradorchuva:"Registrador de Chuva",tanqueevapo:"Tanque Evaporim\xe9trico"},N={stationCode:"C\xd3DIGO DA ESTA\xc7\xc3O",nome:"NOME",bacia:"BACIA",subbacia:"SUB-BACIA",rio:"RIO",estado:"ESTADO",municipio:"MUNIC\xcdPIO",responsavel:"RESPONS\xc1VEL",operadora:"OPERADORA",latitude:"LATITUDE",longitude:"LONGITUDE",areadrenagem:"\xc1REA DE DRENAGEM",tipoestacao:"TIPO DE ESTA\xc7\xc3O",operando:"OPERANDO",telemetrica:"TELEMETRIA",climatologica:"CLIMATOL\xd3GICA",pluviometro:"PLUVI\xd4METRO",registradorchuva:"REGISTRADOR DE CHUVA",escala:"ESCALA",registradornivel:"REGISTRADOR DE N\xcdVEL",descargaliquida:"DESCARGA L\xcdQUIDA",sedimentos:"SEDIMENTOS",qualidadedaagua:"QUALIDADE DA \xc1GUA",tanqueevapo:"TANQUE EVAPORIM\xc9TRICO",data:"DATA",chuva:"CHUVA (MM)",nivel:"N\xcdVEL (CM)",vazao:"VAZ\xc3O (M\xb3/S)",soma_ult_leituras:"PER\xcdODO",sum_chuva:"SOMA DA CHUVA (MM)"},f=e=>{if(!e)return"Data inv\xe1lida";const a=new Date(e),t=Intl.DateTimeFormat().resolvedOptions().timeZone;return a.toLocaleString("pt-BR",{timeZone:t})},y=e=>null===e||void 0===e?"N/A":e%1===0?e.toLocaleString("pt-BR"):e.toLocaleString("pt-BR",{minimumFractionDigits:1}),O=e=>null!==e&&void 0!==e?e.toString():"",k=(e,a)=>{if(0===e.length)return e;return[Object.keys(e[0]).map(e=>a[e]||e),...e.map(e=>Object.keys(e).reduce((t,l)=>(t[a[l]||l]=e[l],t),{})).map(e=>Object.values(e))]},S=(e,a)=>{const t=[];for(let l=0;l<a.length;l++){const e=Object.values(a[l]);for(let a=0;a<e.length;a++)t[a]=Math.max(t[a]||0,O(e[a]).length)}e["!cols"]=t.map(e=>({wch:e+2}))},D=(e,a)=>{const t=e.map(e=>e[a]).filter(e=>"number"===typeof e&&!isNaN(e)&&e>=0&&e<Number.MAX_SAFE_INTEGER);if(0===t.length)return[0,1];const l=Math.min(...t),n=Math.max(...t),c=.1*(n-l);return l===n||n>Number.MAX_SAFE_INTEGER?[l-1,n+1]:[Math.max(l-c,0),n+c]};var _=t(498),C=t(501),j=t(499),A=t(253),I=t(254),R=t(51),w=t(252),T=t(41),x=t(40);var L=n.a.memo(e=>{let{data:a,selectedDetails:t,selectedRainSummary:c,selectedHydro24h:r}=e;const o=Object(s.o)(),i="true"===localStorage.getItem("isListView"),m="true"===localStorage.getItem("isGlobalControlActive"),d=JSON.parse(localStorage.getItem("localActiveTabs"))||{},[u,E]=Object(l.useState)(m),[h,v]=Object(l.useState)(null),[p,N]=Object(l.useState)(d),[O,k]=Object(l.useState)(i);Object(l.useEffect)(()=>{localStorage.setItem("isListView",O)},[O]),Object(l.useEffect)(()=>{localStorage.setItem("isGlobalControlActive",u)},[u]),Object(l.useEffect)(()=>{localStorage.setItem("localActiveTabs",JSON.stringify(p))},[p]);const S=e=>{k("list"===e)},L=(e,a,t)=>{if(!r||!Object.values(r).some(e=>e))return null;if(!e||0===e.length)return null;const l=u?h:p[a]||"chuva",c=e.map(e=>({data:f(e.data),chuva:r.chuva?parseFloat(e.chuva):null,nivel:r.nivel?parseFloat(e.nivel):null,vazao:r.vazao?parseFloat(e.vazao):null}));return n.a.createElement("div",{className:"hydro-data section"},n.a.createElement("h5",null,"Dados Hidrom\xe9tricos 24h"),n.a.createElement("div",{className:"background-hrydo-24h"},n.a.createElement("div",{className:"tabs"},[{key:"chuva",label:"Chuva (mm)"},{key:"nivel",label:"N\xedvel (cm)"},{key:"vazao",label:"Vaz\xe3o (m\xb3/s)"}].map(e=>r[e.key]&&n.a.createElement("button",{key:e.key,className:"tab-button ".concat(l===e.key?"active":""),onClick:()=>((e,a)=>{u?v(a):N(t=>({...t,[e]:a}))})(a,e.key)},e.label))),n.a.createElement("div",{className:"chart-container"},n.a.createElement(_.a,{width:"100%",height:300},n.a.createElement(C.a,{data:c.slice().reverse(),margin:{left:30,right:20}},n.a.createElement(j.a,{strokeDasharray:"3 3"}),n.a.createElement(A.a,{dataKey:"data",tickFormatter:e=>e?new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}),n.a.createElement(I.a,{domain:D(c,l)||[0,1],tickFormatter:e=>null!==e&&void 0!==e?e.toFixed(2):"0"}),n.a.createElement(R.a,{formatter:(e,a)=>{switch(a){case"chuva":return["".concat(e," mm"),"Chuva"];case"nivel":return["".concat(e," cm"),"N\xedvel"];case"vazao":return["".concat(e," m\xb3/s"),"Vaz\xe3o"];default:return[e,a]}}}),"chuva"===l&&n.a.createElement(w.a,{type:"monotone",dataKey:"chuva",stroke:"#8884d8",dot:!0}),"nivel"===l&&n.a.createElement(w.a,{type:"monotone",dataKey:"nivel",stroke:"#82ca9d",dot:!0}),"vazao"===l&&n.a.createElement(w.a,{type:"monotone",dataKey:"vazao",stroke:"#ffc658",dot:!0})))),n.a.createElement("button",{className:"view-more-button",onClick:()=>o("/all-hydro-data",{state:{data:e,stationCode:a,stationName:t}})},"Ver Mais")))};return a?n.a.createElement("div",{className:"data-view-container"},n.a.createElement("div",{className:"toggle-view-icons"},n.a.createElement("div",{className:"icon-container"},n.a.createElement("div",{className:"icon ".concat(O?"icon-visible":"icon-hidden"),onClick:()=>S("grid")},n.a.createElement(T.a,{icon:x.g}),n.a.createElement("span",{className:"tooltip-text"},"Visualiza\xe7\xe3o em Grade")),n.a.createElement("div",{className:"icon ".concat(O?"icon-hidden":"icon-visible"),onClick:()=>S("list")},n.a.createElement(T.a,{icon:x.a}),n.a.createElement("span",{className:"tooltip-text"},"Visualiza\xe7\xe3o em Lista"))),n.a.createElement("div",{className:"icon-container"},n.a.createElement("div",{className:"icon",onClick:()=>{E(!u)}},n.a.createElement(T.a,{icon:x.f}),n.a.createElement("span",{className:"tooltip-text"},u?"Ativar Controle Indiviual De Gr\xe1ficos":"Desativar Controle Indiviual De Gr\xe1ficos")))),n.a.createElement("div",{className:"stations-container ".concat(O?"list-view":"grid-view")},Object.keys(a).map(e=>{var l,r,o,s;return n.a.createElement("div",{className:"station-card",key:e},n.a.createElement("h4",null,a[e].nome||"Nome n\xe3o dispon\xedvel"),n.a.createElement("p",null,e),(s=a[e],t&&Object.values(t).some(e=>e)?s.detalhes&&s.detalhes.items&&0!==s.detalhes.items.length?n.a.createElement("div",{className:"details section"},n.a.createElement("h5",null,"Ficha da esta\xe7\xe3o"),n.a.createElement("div",{className:"details-grid"},Object.keys(s.detalhes.items[0]).map(e=>t[e]&&n.a.createElement("div",{className:"detail-item",key:e},n.a.createElement("strong",null,b[e]||e),n.a.createElement("span",null,s.detalhes.items[0][e]||"N/A"))))):n.a.createElement("p",null,"Detalhes n\xe3o dispon\xedveis para esta esta\xe7\xe3o."):null),(o=null===(l=a[e].chuva_ult)||void 0===l?void 0:l.items,c&&Object.values(c).some(e=>e)&&o&&0!==o.length?n.a.createElement("div",{className:"rain-summary section"},n.a.createElement("h5",null,"Resumo de Chuva"),n.a.createElement("div",{className:"rain-summary-grid"},o.filter(e=>c[e["'soma_ult_leituras'"]]).map((e,a)=>n.a.createElement("div",{className:"rain-summary-item",key:a},n.a.createElement("div",{className:"rain-top"},n.a.createElement(T.a,{icon:x.b,className:"rain-icon animated-rain"}),n.a.createElement("span",{className:"rain-period"},g[e["'soma_ult_leituras'"]]||e["'soma_ult_leituras'"])),n.a.createElement("div",{className:"rain-value"},n.a.createElement("span",null,y(e.sum_chuva))," mm"))))):null),L(null===(r=a[e].hidro_24h)||void 0===r?void 0:r.items,e,a[e].nome))}))):null});t(487),t(488);var M=e=>{let{message:a,onClose:t}=e;return n.a.createElement("div",{className:"popup-overlay"},n.a.createElement("div",{className:"popup-content"},n.a.createElement("p",null,a),n.a.createElement("button",{onClick:t},"Fechar")))},z=t(255),F=t(42);t(489);var V=e=>{let{data:a,onConfirm:t,onCancel:l,selectedDetails:c={},selectedHydro24h:r={},selectedRainSummary:o={}}=e;if(console.log("Dados para pr\xe9-visualiza\xe7\xe3o:",a),!a)return null;const s=function(e,a,t){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return n.a.createElement("div",{className:l?"table-overflow":""},n.a.createElement("h4",null,e),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,t.map((e,a)=>n.a.createElement("th",{key:a},N[e]||b[e]||e)))),n.a.createElement("tbody",null,a.map((e,a)=>n.a.createElement("tr",{key:a},t.map((a,t)=>n.a.createElement("td",{key:t},"soma_ult_leituras"===a?v(e[a]):"data"===a?f(e[a]):"PER\xcdODO"===a?e.period:null!==e[a]&&void 0!==e[a]?y(e[a]):"N/A")))))))},i=a.filter(e=>"Detalhes"===e.category),m=a.filter(e=>"Hidro 24h"===e.category),d=a.filter(e=>"Resumo chuvas"===e.category),u=Object.keys(c).filter(e=>c[e]),E=Object.keys(r).filter(e=>r[e]),h=["stationCode","PER\xcdODO","sum_chuva"];return n.a.createElement("div",{className:"preview-modal-overlay"},n.a.createElement("div",{className:"preview-modal"},n.a.createElement("h3",null,"Pr\xe9-visualiza\xe7\xe3o dos Dados"),n.a.createElement("div",{className:"preview-table"},u.length>0&&i.length>0&&s("Ficha das esta\xe7\xf5es",i,["stationCode",...u],!0),h.length>0&&d.length>0&&s("Resumo de chuvas",d,h),E.length>0&&m.length>0&&s("Hist\xf3rico 24h",m,["stationCode",...E])),n.a.createElement("div",{className:"button-container"},n.a.createElement("button",{className:"confirm-button",onClick:t},"Confirmar Download"),n.a.createElement("button",{className:"cancel-button",onClick:l},"Cancelar"))))};var H=()=>{const{setLoading:e}=m(),[a,t]=Object(l.useState)(localStorage.getItem("codes")||""),[c,r]=Object(l.useState)(JSON.parse(localStorage.getItem("data"))||null),[o]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedData"))||{detalhes:!0,hidro_24h:!0,chuva_ult:!0}),[s,i]=Object(l.useState)(!1),[d,u]=Object(l.useState)(""),[N,f]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),D=Object.keys(b).reduce((e,a)=>(e[a]=!0,e),{}),_=Object.keys(g).reduce((e,a)=>(e[a]=!0,e),{}),C=Object.keys(p).reduce((e,a)=>(e[a]=!0,e),{}),[j,A]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedDetails"))||D),[I,R]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedRainSummary"))||_),[w,H]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedHydro24h"))||C),P={};Object(l.useEffect)(()=>{e(!0);const a=setTimeout(()=>e(!1),650);return()=>clearTimeout(a)},[e]),Object(l.useEffect)(()=>{localStorage.setItem("codes",a)},[a]),Object(l.useEffect)(()=>{localStorage.setItem("data",JSON.stringify(c))},[c]),Object(l.useEffect)(()=>{localStorage.setItem("selectedData",JSON.stringify(o))},[o]),Object(l.useEffect)(()=>{localStorage.setItem("selectedDetails",JSON.stringify(j))},[j]),Object(l.useEffect)(()=>{localStorage.setItem("selectedRainSummary",JSON.stringify(I))},[I]),Object(l.useEffect)(()=>{localStorage.setItem("selectedHydro24h",JSON.stringify(w))},[w]);const G=async()=>{if(!a)return u("Por favor, digite os c\xf3digos das esta\xe7\xf5es."),i(!0),null;const t=o.detalhes&&!Object.values(j).some(e=>e),l=o.chuva_ult&&!Object.values(I).some(e=>e),n=o.hidro_24h&&!Object.values(w).some(e=>e);if(t&&l&&n)return u("Por favor, selecione pelo menos um filtro em uma das categorias."),i(!0),null;e(!0);const c=a.split(",").map(e=>e.trim()).filter(e=>e),s={},m=new Set,d=c.map(async e=>{if(P[e])s[e]=P[e];else{s[e]={};try{const a=await(e=>E.a.get("".concat(h,"estacao/").concat(e)).catch(a=>{throw console.error("Erro ao buscar detalhes da esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data&&a.data.items&&a.data.items[0]?(s[e].nome=a.data.items[0].nome,o.detalhes&&(s[e].detalhes=a.data)):m.add(e)}catch(a){console.error("Erro ao buscar detalhes da esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}if(o.hidro_24h)try{const a=await(e=>E.a.get("".concat(h,"estacao/24h/").concat(e)).catch(a=>{throw console.error("Erro ao buscar dados hidrom\xe9tricos para a esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data?s[e].hidro_24h=a.data:m.add(e)}catch(a){console.error("Erro ao buscar dados hidrom\xe9tricos para a esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}if(o.chuva_ult)try{const a=await(e=>E.a.get("".concat(h,"chuva_ult/").concat(e)).catch(a=>{throw console.error("Erro ao buscar resumo de chuva para a esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data?s[e].chuva_ult=a.data:m.add(e)}catch(a){console.error("Erro ao buscar resumo de chuva para a esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}P[e]=s[e]}});await Promise.all(d);const v={};return Object.keys(s).forEach(e=>{s[e].detalhes||s[e].hidro_24h&&s[e].hidro_24h.items&&s[e].hidro_24h.items.length>0||s[e].chuva_ult&&s[e].chuva_ult.items&&s[e].chuva_ult.items.length>0?v[e]=s[e]:m.add(e)}),m.size>0&&(u("Os seguintes c\xf3digos de esta\xe7\xe3o s\xe3o inv\xe1lidos ou n\xe3o possuem dados: ".concat([...m].join(", "))),i(!0)),r(v),e(!1),v},U=e=>{const a=[];return Object.keys(e).forEach(t=>{const l=e[t];o.detalhes&&l.detalhes&&l.detalhes.items.forEach(e=>{const l=Object.keys(e).reduce((a,t)=>(j[t]&&(a[t]=e[t]),a),{});a.push({category:"Detalhes",stationCode:t,...l})}),o.hidro_24h&&l.hidro_24h&&l.hidro_24h.items.forEach(e=>{const l=Object.keys(e).reduce((a,t)=>(w[t]&&(a[t]=e[t]),a),{});a.push({category:"Hidro 24h",stationCode:t,...l})}),o.chuva_ult&&l.chuva_ult&&l.chuva_ult.items.forEach(e=>{const l=e["'soma_ult_leituras'"];if(I[l]){const n=v(l);a.push({category:"Resumo chuvas",stationCode:t,period:n,sum_chuva:e.sum_chuva})}})}),a},q=e=>{A({...j,[e.target.name]:e.target.checked})},J=e=>{R({...I,[e.target.name]:e.target.checked})},B=e=>{H({...w,[e.target.name]:e.target.checked})},K=()=>{f(!1),(async()=>{const a=await G();if(!a)return;const t=U(a,o,j,w,I),l={stationCode:"C\xf3digo",period:"Per\xedodo",data:"Data",chuva:"Chuva",nivel:"N\xedvel (cm)",vazao:"Vaz\xe3o (m\xb3/s)",sum_chuva:"Soma da Chuva (mm)",nome:"Nome"},n=F.a.book_new(),c=t.filter(e=>"Detalhes"===e.category);if(c.length>0&&Object.values(j).some(e=>e)){const e=k(c,l),a=F.a.aoa_to_sheet(e);S(a,c),F.a.book_append_sheet(n,a,"Detalhes")}const r=t.filter(e=>"Hidro 24h"===e.category);if(r.length>0&&Object.values(w).some(e=>e)){const e=k(r,l),a=F.a.aoa_to_sheet(e);S(a,r),F.a.book_append_sheet(n,a,"Hidro 24h")}const s=t.filter(e=>"Resumo chuvas"===e.category);if(s.length>0&&Object.values(I).some(e=>e)){const e=k(s,l),a=F.a.aoa_to_sheet(e);S(a,s),F.a.book_append_sheet(n,a,"Resumo chuvas")}if(0===n.SheetNames.length)return console.warn("Nenhuma categoria de dados selecionada para download."),void e(!1);const i=F.b(n,{bookType:"xlsx",type:"array"}),m=new Blob([i],{type:"application/octet-stream"});Object(z.saveAs)(m,"hydro_station_data.xlsx"),e(!1)})()},$=(e,a)=>{if("detalhes"===e){const e=Object.keys(j).reduce((e,t)=>(e[t]=a,e),{});A(e)}else if("chuva_ult"===e){const e=Object.keys(I).reduce((e,t)=>(e[t]=a,e),{});R(e)}else if("hidro_24h"===e){const e=Object.keys(w).reduce((e,t)=>(e[t]=a,e),{});H(e)}},[Q,Z]=Object(l.useState)(!0),[W,X]=Object(l.useState)(!0),[Y,ee]=Object(l.useState)(!0),ae=e=>{"detalhes"===e?Z(e=>!e):"chuva_ult"===e?X(e=>!e):"hidro_24h"===e&&ee(e=>!e)};return n.a.createElement("div",{className:"container"},n.a.createElement("h2",null,"Painel de Controle de Dados"),n.a.createElement("div",{className:"filters-container"},n.a.createElement("div",{className:"category"},n.a.createElement("h3",{onClick:()=>ae("detalhes")},"Ficha da esta\xe7\xe3o"),Q&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"select-buttons"},n.a.createElement("button",{onClick:()=>$("detalhes",!0)},"Selecionar todos"),n.a.createElement("button",{onClick:()=>$("detalhes",!1)},"Desmarcar todos")),n.a.createElement("div",{className:"filters"},Object.keys(j).filter(e=>"codigo"!==e).map(e=>n.a.createElement("label",{key:e,className:"label-checkbox"},n.a.createElement("input",{type:"checkbox",name:e,className:"details-checkbox",checked:j[e],onChange:q}),b[e]))))),n.a.createElement("div",{className:"category"},n.a.createElement("h3",{onClick:()=>ae("chuva_ult")},"Resumo de Chuva"),W&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"select-buttons"},n.a.createElement("button",{onClick:()=>$("chuva_ult",!0)},"Selecionar todos"),n.a.createElement("button",{onClick:()=>$("chuva_ult",!1)},"Desmarcar todos")),n.a.createElement("div",{className:"filters"},Object.keys(I).map(e=>n.a.createElement("label",{key:e,className:"label-checkbox"},n.a.createElement("input",{type:"checkbox",name:e,className:"rain-checkbox",checked:I[e],onChange:J}),g[e]||e))))),n.a.createElement("div",{className:"category"},n.a.createElement("h3",{onClick:()=>ae("hidro_24h")},"Dados Hidrom\xe9tricos 24h"),Y&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"select-buttons"},n.a.createElement("button",{onClick:()=>$("hidro_24h",!0)},"Selecionar todos"),n.a.createElement("button",{onClick:()=>$("hidro_24h",!1)},"Desmarcar todos")),n.a.createElement("div",{className:"filters"},Object.keys(w).map(e=>n.a.createElement("label",{key:e,className:"label-checkbox"},n.a.createElement("input",{type:"checkbox",name:e,className:"hydro-checkbox",checked:w[e],onChange:B}),p[e])))))),n.a.createElement("label",{className:"list-stations"},"Lista de c\xf3digos de esta\xe7\xf5es:"),n.a.createElement("textarea",{rows:"3",cols:"50",placeholder:"Digite os c\xf3digos das esta\xe7\xf5es separados por v\xedrgulas",value:a,onChange:e=>t(e.target.value),style:{resize:"vertical"}}),n.a.createElement("div",{className:"action-icons"},n.a.createElement("div",{className:"icon-container"},n.a.createElement("div",{className:"icon",onClick:async()=>{const e=await G();e&&r(e)}},n.a.createElement(T.a,{icon:x.e}),n.a.createElement("span",{className:"tooltip-text"},"Buscar e Exibir Dados"))),n.a.createElement("div",{className:"icon-container"},n.a.createElement("div",{className:"icon",onClick:async()=>{const e=await(async()=>{const e=await G();if(!e)return;const a={};for(let t in e)a[t]={...e[t]},o.detalhes?a[t].detalhes={items:e[t].detalhes.items.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[a]=e;return j[a]})))}:delete a[t].detalhes,o.hidro_24h?a[t].hidro_24h={items:e[t].hidro_24h.items.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[a]=e;return w[a]})))}:delete a[t].hidro_24h,o.chuva_ult?a[t].chuva_ult={items:e[t].chuva_ult.items.filter(e=>{const a=e["'soma_ult_leituras'"];return I[a]})}:delete a[t].chuva_ult;return console.log("Dados filtrados:",a),a})();if(e){const a=U(e);console.log("Dados para pr\xe9-visualiza\xe7\xe3o:",a),O(a),f(!0)}}},n.a.createElement(T.a,{icon:x.c}),n.a.createElement("span",{className:"tooltip-text"},"Revisar Dados Antes do Download"))),n.a.createElement("div",{className:"icon-container"},n.a.createElement("div",{className:"icon",onClick:K},n.a.createElement(T.a,{icon:x.d}),n.a.createElement("span",{className:"tooltip-text"},"Confirmar e Baixar Dados XLSX")))),c&&n.a.createElement(L,{className:"data-view",data:c,selectedDetails:j,selectedRainSummary:I,selectedHydro24h:w}),s&&n.a.createElement(M,{message:d,onClose:()=>{i(!1)}}),N&&n.a.createElement(V,{data:y,onConfirm:K,onCancel:()=>{f(!1)},selectedDetails:j,selectedRainSummary:I,selectedHydro24h:w}))};t(490);var P=()=>{const e=Object(s.m)(),a=Object(s.o)(),{data:t,stationName:l}=e.state||{};if(!t)return n.a.createElement("div",null,"Nenhum dado dispon\xedvel.");const c=t.map(e=>({data:f(e.data),chuva:parseFloat(e.chuva),nivel:parseFloat(e.nivel),vazao:parseFloat(e.vazao)}));return n.a.createElement("div",{className:"all-hydro-data-container"},n.a.createElement("div",{className:"station-header"},n.a.createElement("div",{className:"station-header-inner"},n.a.createElement("h3",{className:"station-name"},l||"Nome n\xe3o dispon\xedvel")),n.a.createElement("h4",{className:"station-title"},"Dados Hidrom\xe9tricos 24h")),n.a.createElement("div",{className:"chart-container"},n.a.createElement("h4",{className:"text-center"},"Chuva (mm)"),n.a.createElement(_.a,{width:"100%",height:300},n.a.createElement(C.a,{data:c.slice().reverse(),margin:{left:10,right:20}},n.a.createElement(j.a,{strokeDasharray:"3 3"}),n.a.createElement(A.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),n.a.createElement(I.a,{domain:D(c,"chuva"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),n.a.createElement(R.a,{formatter:e=>"".concat(e," mm")}),n.a.createElement(w.a,{type:"linear",dataKey:"chuva",stroke:"#3498db",strokeWidth:4,dot:{r:4},activeDot:{r:8}})))),n.a.createElement("div",{className:"chart-container"},n.a.createElement("h4",{className:"text-center"},"N\xedvel (cm)"),n.a.createElement(_.a,{width:"100%",height:300},n.a.createElement(C.a,{data:c.slice().reverse(),margin:{left:25,right:20}},n.a.createElement(j.a,{strokeDasharray:"3 3"}),n.a.createElement(A.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),n.a.createElement(I.a,{domain:D(c,"nivel"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),n.a.createElement(R.a,{formatter:e=>"".concat(e," cm")}),n.a.createElement(w.a,{type:"step",dataKey:"nivel",stroke:"#82ca9d",strokeWidth:2,dot:{r:4},activeDot:{r:8}})))),n.a.createElement("div",{className:"chart-container"},n.a.createElement("h4",{className:"text-center"},"Vaz\xe3o (m\xb3/s)"),n.a.createElement(_.a,{width:"100%",height:300},n.a.createElement(C.a,{data:c.slice().reverse(),margin:{left:30,right:20}},n.a.createElement(j.a,{strokeDasharray:"3 3"}),n.a.createElement(A.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),n.a.createElement(I.a,{domain:D(c,"vazao"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),n.a.createElement(R.a,{formatter:e=>"".concat(e," m\xb3/s")}),n.a.createElement(w.a,{type:"monotone",dataKey:"vazao",stroke:"#ffc658",strokeWidth:3,dot:{r:4},activeDot:{r:8}})))),n.a.createElement("button",{className:"btn-voltar",onClick:()=>a(-1)},"Voltar"))};var G=()=>{var e;const a=Object(s.m)(),t=Object(s.o)(),l=null===(e=a.state)||void 0===e?void 0:e.data;return l?n.a.createElement("div",null,n.a.createElement("h3",null,"Detalhes da Esta\xe7\xe3o ",l.detalhes.items[0].codigo),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",null,"C\xf3digo"),n.a.createElement("td",null,l.detalhes.items[0].codigo)),n.a.createElement("tr",null,n.a.createElement("td",null,"Nome"),n.a.createElement("td",null,l.detalhes.items[0].nome)),n.a.createElement("tr",null,n.a.createElement("td",null,"Bacia"),n.a.createElement("td",null,l.detalhes.items[0].bacia)),n.a.createElement("tr",null,n.a.createElement("td",null,"Rio"),n.a.createElement("td",null,l.detalhes.items[0].rio)),n.a.createElement("tr",null,n.a.createElement("td",null,"Estado"),n.a.createElement("td",null,l.detalhes.items[0].estado)),n.a.createElement("tr",null,n.a.createElement("td",null,"Munic\xedpio"),n.a.createElement("td",null,l.detalhes.items[0].municipio)),n.a.createElement("tr",null,n.a.createElement("td",null,"Respons\xe1vel"),n.a.createElement("td",null,l.detalhes.items[0].responsavel)),n.a.createElement("tr",null,n.a.createElement("td",null,"Operadora"),n.a.createElement("td",null,l.detalhes.items[0].operadora)),n.a.createElement("tr",null,n.a.createElement("td",null,"Latitude"),n.a.createElement("td",null,y(l.detalhes.items[0].latitude))),n.a.createElement("tr",null,n.a.createElement("td",null,"Longitude"),n.a.createElement("td",null,y(l.detalhes.items[0].longitude))),n.a.createElement("tr",null,n.a.createElement("td",null,"\xc1rea de Drenagem"),n.a.createElement("td",null,y(l.detalhes.items[0].areadrenagem))),n.a.createElement("tr",null,n.a.createElement("td",null,"Tipo de Esta\xe7\xe3o"),n.a.createElement("td",null,l.detalhes.items[0].tipoestacao)),n.a.createElement("tr",null,n.a.createElement("td",null,"Operando"),n.a.createElement("td",null,l.detalhes.items[0].operando)),n.a.createElement("tr",null,n.a.createElement("td",null,"Telem\xe9trica"),n.a.createElement("td",null,l.detalhes.items[0].telemetrica)),n.a.createElement("tr",null,n.a.createElement("td",null,"Climatol\xf3gica"),n.a.createElement("td",null,l.detalhes.items[0].climatologica)),n.a.createElement("tr",null,n.a.createElement("td",null,"Pluvi\xf4metro"),n.a.createElement("td",null,l.detalhes.items[0].pluviometro)),n.a.createElement("tr",null,n.a.createElement("td",null,"Registrador de Chuva"),n.a.createElement("td",null,l.detalhes.items[0].registradorchuva)),n.a.createElement("tr",null,n.a.createElement("td",null,"Escala"),n.a.createElement("td",null,l.detalhes.items[0].escala)),n.a.createElement("tr",null,n.a.createElement("td",null,"Registrador de N\xedvel"),n.a.createElement("td",null,l.detalhes.items[0].registradornivel)),n.a.createElement("tr",null,n.a.createElement("td",null,"Descarga L\xedquida"),n.a.createElement("td",null,l.detalhes.items[0].descargaliquida)),n.a.createElement("tr",null,n.a.createElement("td",null,"Sedimentos"),n.a.createElement("td",null,l.detalhes.items[0].sedimentos)),n.a.createElement("tr",null,n.a.createElement("td",null,"Qualidade da \xc1gua"),n.a.createElement("td",null,l.detalhes.items[0].qualidadedaagua)),n.a.createElement("tr",null,n.a.createElement("td",null,"Tanque Evapo"),n.a.createElement("td",null,l.detalhes.items[0].tanqueevapo)))),n.a.createElement("button",{onClick:()=>t(-1)},"Voltar")):n.a.createElement("div",null,"Nenhum dado dispon\xedvel.")};t(491);var U=()=>n.a.createElement("div",{className:"loading-overlay"},n.a.createElement("div",{className:"loading-spinner"}));t(492);const q=()=>{const{loading:e}=m();return e?n.a.createElement(U,null):null};var J=()=>n.a.createElement(d,null,n.a.createElement(o.a,{basename:"/hydro-station-data"},n.a.createElement("nav",{className:"navbar"},n.a.createElement("ul",{className:"nav-list"},n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/",end:!0,className:e=>{let{isActive:a}=e;return a?"nav-link active":"nav-link"}},"IN\xcdCIO")),n.a.createElement("li",{className:"nav-item"},n.a.createElement(o.b,{to:"/data-input",className:e=>{let{isActive:a}=e;return a?"nav-link active":"nav-link"}},"PESQUISAR ESTA\xc7\xd5ES")))),n.a.createElement(s.c,null,n.a.createElement(s.a,{path:"/",element:n.a.createElement(u,null)}),n.a.createElement(s.a,{path:"/data-input",element:n.a.createElement(H,null)}),n.a.createElement(s.a,{path:"/all-hydro-data",element:n.a.createElement(P,null)}),n.a.createElement(s.a,{path:"/station-details",element:n.a.createElement(G,null)})),n.a.createElement(q,null)));t(493),t(494);r.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(J,null)))}},[[258,1,2]]]);
//# sourceMappingURL=main.67f44900.chunk.js.map