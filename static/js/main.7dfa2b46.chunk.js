(this["webpackJsonphydro-station-data"]=this["webpackJsonphydro-station-data"]||[]).push([[0],{259:function(e,a,t){e.exports=t(498)},267:function(e,a,t){},272:function(e,a,t){},488:function(e,a,t){},489:function(e,a,t){},490:function(e,a,t){},491:function(e,a,t){},493:function(e,a,t){},494:function(e,a,t){},495:function(e,a,t){},496:function(e,a,t){},497:function(e,a,t){},498:function(e,a,t){"use strict";t.r(a);var l=t(0),o=t.n(l),n=t(242),c=t.n(n),s=t(55),r=t(6);t(267);const i=Object(l.createContext)(),m=()=>Object(l.useContext)(i),d=e=>{let{children:a}=e;const[t,n]=Object(l.useState)(!1),c={loading:t,setLoading:n};return o.a.createElement(i.Provider,{value:c},a)};var u=()=>{const{setLoading:e}=m();return Object(l.useEffect)(()=>{e(!0);const a=setTimeout(()=>e(!1),500);return()=>clearTimeout(a)},[e]),o.a.createElement("div",{className:"home-container"},o.a.createElement("header",{className:"home-header"},o.a.createElement("h1",null,"Portal HidroInfo"),o.a.createElement("p",null,"Informa\xe7\xf5es hidrol\xf3gicas e meteorol\xf3gicas ao seu alcance.")),o.a.createElement("main",{className:"home-content"},o.a.createElement("section",{className:"home-section"},o.a.createElement("h3",null,"Sobre o Aplicativo"),o.a.createElement("p",null,"Bem-vindo ao HidroInfo, uma plataforma avan\xe7ada para acesso a dados hidrol\xf3gicos e meteorol\xf3gicos em tempo real. Desenvolvido pela Ag\xeancia Nacional de \xc1guas (ANA), nosso aplicativo \xe9 parte integrante do Sistema Nacional de Informa\xe7\xf5es sobre Recursos H\xeddricos (SNIRH), permitindo a visualiza\xe7\xe3o dos dados coletados pela Rede Hidrometeorol\xf3gica Nacional (RHN). Atrav\xe9s do HidroInfo, voc\xea pode monitorar e analisar informa\xe7\xf5es essenciais sobre o clima e os recursos h\xeddricos do Brasil.")),o.a.createElement("section",{className:"home-section"},o.a.createElement("h3",null,"Funcionalidades"),o.a.createElement("ul",null,o.a.createElement("li",null,"Consulta a dados detalhados de esta\xe7\xf5es hidrometeorol\xf3gicas em todo o pa\xeds."),o.a.createElement("li",null,"Visualiza\xe7\xe3o de hist\xf3ricos de chuvas, n\xedveis de \xe1gua e vaz\xf5es com gr\xe1ficos interativos."),o.a.createElement("li",null,"Filtragem personalizada para criar relat\xf3rios e visualiza\xe7\xf5es espec\xedficas de acordo com suas necessidades."),o.a.createElement("li",null,"Acesso a informa\xe7\xf5es geogr\xe1ficas e dados estat\xedsticos das esta\xe7\xf5es monitoradas."))),o.a.createElement("section",{className:"home-section flex-section"},o.a.createElement("div",{className:"text-content"},o.a.createElement("h3",null,"Como Utilizar"),o.a.createElement("p",null,"Navegar pelo HidroInfo \xe9 simples e intuitivo. Utilize o menu superior para acessar as principais funcionalidades:"),o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("strong",null,"Pesquisar Esta\xe7\xf5es:")," Encontre e selecione esta\xe7\xf5es espec\xedficas para visualizar seus dados detalhados."),o.a.createElement("li",null,o.a.createElement("strong",null,"Dados Hidrom\xe9tricos 24h:")," Acesse gr\xe1ficos com dados de chuvas, n\xedveis de \xe1gua e vaz\xf5es nas \xfaltimas 24 horas."),o.a.createElement("li",null,o.a.createElement("strong",null,"Resumo de Chuva:")," Veja resumos de precipita\xe7\xe3o acumulada em diferentes per\xedodos, como 24 horas, 7 dias, 30 dias e 12 meses.")),o.a.createElement("p",null,"Explore esta e outras funcionalidades (em breve) para obter insights valiosos sobre as condi\xe7\xf5es hidrol\xf3gicas e meteorol\xf3gicas. Para mais informa\xe7\xf5es, visite o site oficial do SNIRH."),o.a.createElement("a",{href:"https://www.snirh.gov.br",target:"_blank",rel:"noopener noreferrer",className:"cta-button"},"Saiba mais")),o.a.createElement("div",{className:"home-gif-container"},o.a.createElement("img",{src:"https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExMHNpcDM4cWNwZ28zeGZjcTIxMDZtNjI5ODhneGRpcGN6aXdqbW5lZSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/3oKIPEqDGUULpEU0aQ/giphy.webp",alt:"Descri\xe7\xe3o do GIF",className:"home-gif"}),o.a.createElement("p",{className:"home-gif-credit"},o.a.createElement("a",{href:"https://giphy.com/gifs/cartoon-character-2d-3oKIPEqDGUULpEU0aQ",target:"_blank",rel:"noopener noreferrer"},"via GIPHY"))))),o.a.createElement("footer",{className:"home-footer"},o.a.createElement("p",null,"\xa9 2024 HidroInfo. Todos os direitos reservados.")))},h=t(503);const E="https://ows.snirh.gov.br/ords/servicos/hidro/";t(272);const v=e=>({soma_ult_leituras:"24 HORAS","ultimos 7d":"7 DIAS","ultimos 30d":"30 DIAS","ultimos 12 meses":"12 MESES"}[e]||e),p={soma_ult_leituras:"24 Horas","ultimos 7d":"7 Dias","ultimos 30d":"30 Dias","ultimos 12 meses":"12 Meses"},g={data:"Data",chuva:"Chuva (mm)",nivel:"N\xedvel (cm)",vazao:"Vaz\xe3o (m\xb3/s)"},b={nome:"Nome",bacia:"Bacia",subbacia:"Sub-bacia",rio:"Rio",estado:"Estado",municipio:"Munic\xedpio",latitude:"Latitude",longitude:"Longitude",escala:"Escala",operadora:"Operadora",operando:"Operando",responsavel:"Respons\xe1vel",telemetrica:"Telem\xe9trica",sedimentos:"Sedimentos",areadrenagem:"\xc1rea de Drenagem",climatologica:"Climatol\xf3gica",pluviometro:"Pluvi\xf4metro",tipoestacao:"Tipo de Esta\xe7\xe3o",descargaliquida:"Descarga L\xedquida",qualidadedaagua:"Qualidade da \xc1gua",registradornivel:"Registrador de N\xedvel",registradorchuva:"Registrador de Chuva",tanqueevapo:"Tanque Evaporim\xe9trico"},f={stationCode:"C\xd3DIGO DA ESTA\xc7\xc3O",nome:"NOME",bacia:"BACIA",subbacia:"SUB-BACIA",rio:"RIO",estado:"ESTADO",municipio:"MUNIC\xcdPIO",responsavel:"RESPONS\xc1VEL",operadora:"OPERADORA",latitude:"LATITUDE",longitude:"LONGITUDE",areadrenagem:"\xc1REA DE DRENAGEM",tipoestacao:"TIPO DE ESTA\xc7\xc3O",operando:"OPERANDO",telemetrica:"TELEMETRIA",climatologica:"CLIMATOL\xd3GICA",pluviometro:"PLUVI\xd4METRO",registradorchuva:"REGISTRADOR DE CHUVA",escala:"ESCALA",registradornivel:"REGISTRADOR DE N\xcdVEL",descargaliquida:"DESCARGA L\xcdQUIDA",sedimentos:"SEDIMENTOS",qualidadedaagua:"QUALIDADE DA \xc1GUA",tanqueevapo:"TANQUE EVAPORIM\xc9TRICO",data:"DATA",chuva:"CHUVA (MM)",nivel:"N\xcdVEL (CM)",vazao:"VAZ\xc3O (M\xb3/S)",soma_ult_leituras:"PER\xcdODO",sum_chuva:"SOMA DA CHUVA (MM)"},N=e=>{if(!e)return"Data inv\xe1lida";const a=new Date(e),t=Intl.DateTimeFormat().resolvedOptions().timeZone;return a.toLocaleString("pt-BR",{timeZone:t})},y=e=>null===e||void 0===e?"N/A":e%1===0?e.toLocaleString("pt-BR"):e.toLocaleString("pt-BR",{minimumFractionDigits:1}),O=e=>null!==e&&void 0!==e?e.toString():"",S=(e,a)=>{if(0===e.length)return e;return[Object.keys(e[0]).map(e=>a[e]||e),...e.map(e=>Object.keys(e).reduce((t,l)=>(t[a[l]||l]=e[l],t),{})).map(e=>Object.values(e))]},k=(e,a)=>{const t=[];for(let l=0;l<a.length;l++){const e=Object.values(a[l]);for(let a=0;a<e.length;a++)t[a]=Math.max(t[a]||0,O(e[a]).length)}e["!cols"]=t.map(e=>({wch:e+2}))},D=(e,a)=>{const t=e.map(e=>e[a]).filter(e=>"number"===typeof e&&!isNaN(e)&&e>=0&&e<Number.MAX_SAFE_INTEGER);if(0===t.length)return[0,1];const l=Math.min(...t),o=Math.max(...t),n=.1*(o-l);return l===o||o>Number.MAX_SAFE_INTEGER?[l-1,o+1]:[Math.max(l-n,0),o+n]};var C=t(501),_=t(504),j=t(502),w=t(253),A=t(254),I=t(51),R=t(252),x=t(41),T=t(40);var F=o.a.memo(e=>{let{data:a,selectedDetails:t,selectedRainSummary:n,selectedHydro24h:c}=e;const s=Object(r.o)(),i="true"===localStorage.getItem("isListView"),m="true"===localStorage.getItem("isGlobalControlActive"),d=JSON.parse(localStorage.getItem("localActiveTabs"))||{},[u,h]=Object(l.useState)(m),[E,v]=Object(l.useState)(null),[g,f]=Object(l.useState)(d),[O,S]=Object(l.useState)(i);Object(l.useEffect)(()=>{localStorage.setItem("isListView",O)},[O]),Object(l.useEffect)(()=>{localStorage.setItem("isGlobalControlActive",u)},[u]),Object(l.useEffect)(()=>{localStorage.setItem("localActiveTabs",JSON.stringify(g))},[g]);const k=e=>{S("list"===e)},F=(e,a,t)=>{if(!c||!Object.values(c).some(e=>e))return null;if(!e||0===e.length)return null;const l=u?E:g[a]||"chuva",n=e.map(e=>({data:N(e.data),chuva:c.chuva?parseFloat(e.chuva):null,nivel:c.nivel?parseFloat(e.nivel):null,vazao:c.vazao?parseFloat(e.vazao):null}));return o.a.createElement("div",{className:"hydro-data section"},o.a.createElement("h5",null,"Dados Hidrom\xe9tricos 24h"),o.a.createElement("div",{className:"background-hrydo-24h"},o.a.createElement("div",{className:"tabs"},[{key:"chuva",label:"Chuva (mm)"},{key:"nivel",label:"N\xedvel (cm)"},{key:"vazao",label:"Vaz\xe3o (m\xb3/s)"}].map(e=>c[e.key]&&o.a.createElement("button",{key:e.key,className:"tab-button ".concat(l===e.key?"active":""),onClick:()=>((e,a)=>{u?v(a):f(t=>({...t,[e]:a}))})(a,e.key)},e.label))),o.a.createElement("div",{className:"chart-container"},o.a.createElement(C.a,{width:"100%",height:300},o.a.createElement(_.a,{data:n.slice().reverse(),margin:{left:30,right:20}},o.a.createElement(j.a,{strokeDasharray:"3 3"}),o.a.createElement(w.a,{dataKey:"data",tickFormatter:e=>e?new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):""}),o.a.createElement(A.a,{domain:D(n,l)||[0,1],tickFormatter:e=>null!==e&&void 0!==e?e.toFixed(2):"0"}),o.a.createElement(I.a,{formatter:(e,a)=>{switch(a){case"chuva":return["".concat(e," mm"),"Chuva"];case"nivel":return["".concat(e," cm"),"N\xedvel"];case"vazao":return["".concat(e," m\xb3/s"),"Vaz\xe3o"];default:return[e,a]}}}),"chuva"===l&&o.a.createElement(R.a,{type:"monotone",dataKey:"chuva",stroke:"#8884d8",dot:!0}),"nivel"===l&&o.a.createElement(R.a,{type:"monotone",dataKey:"nivel",stroke:"#82ca9d",dot:!0}),"vazao"===l&&o.a.createElement(R.a,{type:"monotone",dataKey:"vazao",stroke:"#ffc658",dot:!0})))),o.a.createElement("button",{className:"view-more-button",onClick:()=>s("/all-hydro-data",{state:{data:e,stationCode:a,stationName:t}})},"Ver Mais")))};return a?o.a.createElement("div",{className:"data-view-container"},o.a.createElement("div",{className:"toggle-view-icons"},o.a.createElement("div",{className:"icon-container"},o.a.createElement("div",{className:"icon ".concat(O?"icon-visible":"icon-hidden"),onClick:()=>k("grid")},o.a.createElement(x.a,{icon:T.g}),o.a.createElement("span",{className:"tooltip-text"},"Visualiza\xe7\xe3o em Grade")),o.a.createElement("div",{className:"icon ".concat(O?"icon-hidden":"icon-visible"),onClick:()=>k("list")},o.a.createElement(x.a,{icon:T.a}),o.a.createElement("span",{className:"tooltip-text"},"Visualiza\xe7\xe3o em Lista"))),o.a.createElement("div",{className:"icon-container"},o.a.createElement("div",{className:"icon",onClick:()=>{h(!u)}},o.a.createElement(x.a,{icon:T.f}),o.a.createElement("span",{className:"tooltip-text"},u?"Ativar Controle Indiviual De Gr\xe1ficos":"Desativar Controle Indiviual De Gr\xe1ficos")))),o.a.createElement("div",{className:"stations-container ".concat(O?"list-view":"grid-view")},Object.keys(a).map(e=>{var l,c,s,r;return o.a.createElement("div",{className:"station-card",key:e},o.a.createElement("h4",null,a[e].nome||"Nome n\xe3o dispon\xedvel"),o.a.createElement("p",null,e),(r=a[e],t&&Object.values(t).some(e=>e)?r.detalhes&&r.detalhes.items&&0!==r.detalhes.items.length?o.a.createElement("div",{className:"details section"},o.a.createElement("h5",null,"Ficha da esta\xe7\xe3o"),o.a.createElement("div",{className:"details-grid"},Object.keys(r.detalhes.items[0]).map(e=>t[e]&&o.a.createElement("div",{className:"detail-item",key:e},o.a.createElement("strong",null,b[e]||e),o.a.createElement("span",null,r.detalhes.items[0][e]||"N/A"))))):o.a.createElement("p",null,"Detalhes n\xe3o dispon\xedveis para esta esta\xe7\xe3o."):null),(s=null===(l=a[e].chuva_ult)||void 0===l?void 0:l.items,n&&Object.values(n).some(e=>e)&&s&&0!==s.length?o.a.createElement("div",{className:"rain-summary section"},o.a.createElement("h5",null,"Resumo de Chuva"),o.a.createElement("div",{className:"rain-summary-grid"},s.filter(e=>n[e["'soma_ult_leituras'"]]).map((e,a)=>o.a.createElement("div",{className:"rain-summary-item",key:a},o.a.createElement("div",{className:"rain-top"},o.a.createElement(x.a,{icon:T.b,className:"rain-icon animated-rain"}),o.a.createElement("span",{className:"rain-period"},p[e["'soma_ult_leituras'"]]||e["'soma_ult_leituras'"])),o.a.createElement("div",{className:"rain-value"},o.a.createElement("span",null,y(e.sum_chuva))," mm"))))):null),F(null===(c=a[e].hidro_24h)||void 0===c?void 0:c.items,e,a[e].nome))}))):null});t(488),t(489);var L=e=>{let{message:a,onClose:t}=e;return o.a.createElement("div",{className:"popup-overlay"},o.a.createElement("div",{className:"popup-content"},o.a.createElement("p",null,a),o.a.createElement("button",{onClick:t},"Fechar")))},z=t(255),M=t(42);t(490);var H=e=>{let{data:a,onConfirm:t,onCancel:l,selectedDetails:n={},selectedHydro24h:c={},selectedRainSummary:s={}}=e;if(console.log("Dados para pr\xe9-visualiza\xe7\xe3o:",a),!a)return null;const r=function(e,a,t){let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return o.a.createElement("div",{className:l?"table-overflow":""},o.a.createElement("h4",null,e),o.a.createElement("table",null,o.a.createElement("thead",null,o.a.createElement("tr",null,t.map((e,a)=>o.a.createElement("th",{key:a},f[e]||b[e]||e)))),o.a.createElement("tbody",null,a.map((e,a)=>o.a.createElement("tr",{key:a},t.map((a,t)=>o.a.createElement("td",{key:t},"soma_ult_leituras"===a?v(e[a]):"data"===a?N(e[a]):"PER\xcdODO"===a?e.period:null!==e[a]&&void 0!==e[a]?y(e[a]):"N/A")))))))},i=a.filter(e=>"Detalhes"===e.category),m=a.filter(e=>"Hidro 24h"===e.category),d=a.filter(e=>"Resumo chuvas"===e.category),u=Object.keys(n).filter(e=>n[e]),h=Object.keys(c).filter(e=>c[e]),E=["stationCode","PER\xcdODO","sum_chuva"];return o.a.createElement("div",{className:"preview-modal-overlay"},o.a.createElement("div",{className:"preview-modal"},o.a.createElement("h3",null,"Pr\xe9-visualiza\xe7\xe3o dos Dados"),o.a.createElement("div",{className:"preview-table"},u.length>0&&i.length>0&&r("Ficha das esta\xe7\xf5es",i,["stationCode",...u],!0),E.length>0&&d.length>0&&r("Resumo de chuvas",d,E),h.length>0&&m.length>0&&r("Hist\xf3rico 24h",m,["stationCode",...h])),o.a.createElement("div",{className:"button-container"},o.a.createElement("button",{className:"confirm-button",onClick:t},"Confirmar Download"),o.a.createElement("button",{className:"cancel-button",onClick:l},"Cancelar"))))},V=(t(491),t(256));t(492);var q=()=>{const{setLoading:e}=m(),[a,t]=Object(l.useState)(localStorage.getItem("codes")||""),[n,c]=Object(l.useState)(JSON.parse(localStorage.getItem("data"))||null),[s]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedData"))||{detalhes:!0,hidro_24h:!0,chuva_ult:!0}),[r,i]=Object(l.useState)(!1),[d,u]=Object(l.useState)(""),[f,N]=Object(l.useState)(!1),[y,O]=Object(l.useState)([]),D=Object.keys(b).reduce((e,a)=>(e[a]=!0,e),{}),C=Object.keys(p).reduce((e,a)=>(e[a]=!0,e),{}),_=Object.keys(g).reduce((e,a)=>(e[a]=!0,e),{}),[j,w]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedDetails"))||D),[A,I]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedRainSummary"))||C),[R,q]=Object(l.useState)(JSON.parse(localStorage.getItem("selectedHydro24h"))||_),P={};Object(l.useEffect)(()=>{e(!0);const a=setTimeout(()=>e(!1),650);return()=>clearTimeout(a)},[e]),Object(l.useEffect)(()=>{localStorage.setItem("codes",a)},[a]),Object(l.useEffect)(()=>{localStorage.setItem("data",JSON.stringify(n))},[n]),Object(l.useEffect)(()=>{localStorage.setItem("selectedData",JSON.stringify(s))},[s]),Object(l.useEffect)(()=>{localStorage.setItem("selectedDetails",JSON.stringify(j))},[j]),Object(l.useEffect)(()=>{localStorage.setItem("selectedRainSummary",JSON.stringify(A))},[A]),Object(l.useEffect)(()=>{localStorage.setItem("selectedHydro24h",JSON.stringify(R))},[R]);const G=async()=>{if(!a)return u("Por favor, digite os c\xf3digos das esta\xe7\xf5es."),i(!0),null;const t=s.detalhes&&!Object.values(j).some(e=>e),l=s.chuva_ult&&!Object.values(A).some(e=>e),o=s.hidro_24h&&!Object.values(R).some(e=>e);if(t&&l&&o)return u("Por favor, selecione pelo menos um filtro em uma das categorias."),i(!0),null;e(!0);const n=a.split(",").map(e=>e.trim()).filter(e=>e),r={},m=new Set,d=n.map(async e=>{if(P[e])r[e]=P[e];else{r[e]={};try{const a=await(e=>h.a.get("".concat(E,"estacao/").concat(e)).catch(a=>{throw console.error("Erro ao buscar detalhes da esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data&&a.data.items&&a.data.items[0]?(r[e].nome=a.data.items[0].nome,s.detalhes&&(r[e].detalhes=a.data)):m.add(e)}catch(a){console.error("Erro ao buscar detalhes da esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}if(s.hidro_24h)try{const a=await(e=>h.a.get("".concat(E,"estacao/24h/").concat(e)).catch(a=>{throw console.error("Erro ao buscar dados hidrom\xe9tricos para a esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data?r[e].hidro_24h=a.data:m.add(e)}catch(a){console.error("Erro ao buscar dados hidrom\xe9tricos para a esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}if(s.chuva_ult)try{const a=await(e=>h.a.get("".concat(E,"chuva_ult/").concat(e)).catch(a=>{throw console.error("Erro ao buscar resumo de chuva para a esta\xe7\xe3o ".concat(e,":"),a),a}))(e);a.data?r[e].chuva_ult=a.data:m.add(e)}catch(a){console.error("Erro ao buscar resumo de chuva para a esta\xe7\xe3o ".concat(e,":"),a),m.add(e)}P[e]=r[e]}});await Promise.all(d);const v={};return Object.keys(r).forEach(e=>{r[e].detalhes||r[e].hidro_24h&&r[e].hidro_24h.items&&r[e].hidro_24h.items.length>0||r[e].chuva_ult&&r[e].chuva_ult.items&&r[e].chuva_ult.items.length>0?v[e]=r[e]:m.add(e)}),m.size>0&&(u("Os seguintes c\xf3digos de esta\xe7\xe3o s\xe3o inv\xe1lidos ou n\xe3o possuem dados: ".concat([...m].join(", "))),i(!0)),c(v),e(!1),v},U=e=>{const a=[];return Object.keys(e).forEach(t=>{const l=e[t];s.detalhes&&l.detalhes&&l.detalhes.items.forEach(e=>{const l=Object.keys(e).reduce((a,t)=>(j[t]&&(a[t]=e[t]),a),{});a.push({category:"Detalhes",stationCode:t,...l})}),s.hidro_24h&&l.hidro_24h&&l.hidro_24h.items.forEach(e=>{const l=Object.keys(e).reduce((a,t)=>(R[t]&&(a[t]=e[t]),a),{});a.push({category:"Hidro 24h",stationCode:t,...l})}),s.chuva_ult&&l.chuva_ult&&l.chuva_ult.items.forEach(e=>{const l=e["'soma_ult_leituras'"];if(A[l]){const o=v(l);a.push({category:"Resumo chuvas",stationCode:t,period:o,sum_chuva:e.sum_chuva})}})}),a},B=e=>{w({...j,[e.target.name]:e.target.checked})},J=e=>{I({...A,[e.target.name]:e.target.checked})},K=e=>{q({...R,[e.target.name]:e.target.checked})},$=()=>{N(!1),(async()=>{const a=await G();if(!a)return;const t=U(a,s,j,R,A),l={stationCode:"C\xf3digo",period:"Per\xedodo",data:"Data",chuva:"Chuva",nivel:"N\xedvel (cm)",vazao:"Vaz\xe3o (m\xb3/s)",sum_chuva:"Soma da Chuva (mm)",nome:"Nome"},o=M.a.book_new(),n=t.filter(e=>"Detalhes"===e.category);if(n.length>0&&Object.values(j).some(e=>e)){const e=S(n,l),a=M.a.aoa_to_sheet(e);k(a,n),M.a.book_append_sheet(o,a,"Detalhes")}const c=t.filter(e=>"Hidro 24h"===e.category);if(c.length>0&&Object.values(R).some(e=>e)){const e=S(c,l),a=M.a.aoa_to_sheet(e);k(a,c),M.a.book_append_sheet(o,a,"Hidro 24h")}const r=t.filter(e=>"Resumo chuvas"===e.category);if(r.length>0&&Object.values(A).some(e=>e)){const e=S(r,l),a=M.a.aoa_to_sheet(e);k(a,r),M.a.book_append_sheet(o,a,"Resumo chuvas")}if(0===o.SheetNames.length)return console.warn("Nenhuma categoria de dados selecionada para download."),void e(!1);const i=M.b(o,{bookType:"xlsx",type:"array"}),m=new Blob([i],{type:"application/octet-stream"});Object(z.saveAs)(m,"hydro_station_data.xlsx"),e(!1)})()},Q=(e,a)=>{if("detalhes"===e){const e=Object.keys(j).reduce((e,t)=>(e[t]=a,e),{});w(e)}else if("chuva_ult"===e){const e=Object.keys(A).reduce((e,t)=>(e[t]=a,e),{});I(e)}else if("hidro_24h"===e){const e=Object.keys(R).reduce((e,t)=>(e[t]=a,e),{});q(e)}},[Z,W]=Object(l.useState)(!0),[X,Y]=Object(l.useState)(!0),[ee,ae]=Object(l.useState)(!0),te=e=>{"detalhes"===e?W(e=>!e):"chuva_ult"===e?Y(e=>!e):"hidro_24h"===e&&ae(e=>!e)},le=Object(l.useMemo)(()=>{const e=new V.a.Tour({useModalOverlay:!0,defaultStepOptions:{scrollTo:{behavior:"smooth",block:"center"},classes:"shepherd-element",cancelIcon:{enabled:!0},arrow:!0,buttons:[{text:"Voltar",action:()=>e.back(),classes:"shepherd-button shepherd-button-secondary"},{text:"Pr\xf3ximo",action:()=>e.next(),classes:"shepherd-button shepherd-button-primary"}],when:{show:()=>{document.querySelector(".shepherd-element").style.transition="all 0.7s ease-in-out"}}}}),a=[{id:"ficha",text:"Aqui voc\xea pode selecionar os filtros para os dados exibidos na Ficha da esta\xe7\xe3o.",attachTo:{element:"#ficha",on:"bottom"},when:{show:()=>oe("#ficha"),hide:()=>ne("#ficha")}},{id:"resumo",text:"Aqui voc\xea pode selecionar os filtros para os dados exibidos no Resumo de Chuva.",attachTo:{element:"#resumo",on:"bottom"},when:{show:()=>oe("#resumo"),hide:()=>ne("#resumo")}},{id:"hidro24h",text:"Aqui voc\xea pode selecionar os filtros para os dados exibidos nos Dados Hidrom\xe9tricos 24h.",attachTo:{element:"#hidro24h",on:"bottom"},when:{show:()=>oe("#hidro24h"),hide:()=>ne("#hidro24h")}},{id:"list-stations",text:"Digite os c\xf3digos das esta\xe7\xf5es separados por v\xedrgulas.",attachTo:{element:"#list-stations",on:"bottom"},when:{show:()=>oe("#list-stations"),hide:()=>ne("#list-stations")}},{id:"faSearch",text:"Clique aqui para buscar e exibir os dados.",attachTo:{element:"#faSearch",on:"bottom"},when:{show:()=>oe("#faSearch"),hide:()=>ne("#faSearch")}},{id:"faEye",text:"Clique aqui para revisar os dados antes do download.",attachTo:{element:"#faEye",on:"bottom"},when:{show:()=>oe("#faEye"),hide:()=>ne("#faEye")}},{id:"faFileDownload",text:"Clique aqui para confirmar e baixar os dados em XLSX.",attachTo:{element:"#faFileDownload",on:"bottom"},when:{show:()=>oe("#faFileDownload"),hide:()=>ne("#faFileDownload")}}];a.forEach(a=>e.addStep(a));const t=()=>{a.forEach(e=>ne(e.attachTo.element))};return e.on("complete",t),e.on("cancel",t),e},[]);Object(l.useEffect)(()=>{le.start()},[le]);const oe=e=>{const a=document.querySelector(e);a&&a.classList.add("shepherd-target-highlight")},ne=e=>{const a=document.querySelector(e);a&&a.classList.remove("shepherd-target-highlight")};return o.a.createElement("div",{className:"container"},o.a.createElement("h2",null,"Painel de Controle de Dados"),o.a.createElement("div",{className:"filters-container"},o.a.createElement("div",{className:"category",id:"ficha"},o.a.createElement("h3",{onClick:()=>te("detalhes")},"Ficha da esta\xe7\xe3o"),Z&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"select-buttons"},o.a.createElement("button",{onClick:()=>Q("detalhes",!0)},"Selecionar todos"),o.a.createElement("button",{onClick:()=>Q("detalhes",!1)},"Desmarcar todos")),o.a.createElement("div",{className:"filters"},Object.keys(j).filter(e=>"codigo"!==e).map(e=>o.a.createElement("label",{key:e,className:"label-checkbox"},o.a.createElement("input",{type:"checkbox",name:e,className:"details-checkbox",checked:j[e],onChange:B}),b[e]))))),o.a.createElement("div",{className:"category",id:"resumo"},o.a.createElement("h3",{onClick:()=>te("chuva_ult")},"Resumo de Chuva"),X&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"select-buttons"},o.a.createElement("button",{onClick:()=>Q("chuva_ult",!0)},"Selecionar todos"),o.a.createElement("button",{onClick:()=>Q("chuva_ult",!1)},"Desmarcar todos")),o.a.createElement("div",{className:"filters"},Object.keys(A).map(e=>o.a.createElement("label",{key:e,className:"label-checkbox"},o.a.createElement("input",{type:"checkbox",name:e,className:"rain-checkbox",checked:A[e],onChange:J}),p[e]||e))))),o.a.createElement("div",{className:"category",id:"hidro24h"},o.a.createElement("h3",{onClick:()=>te("hidro_24h")},"Dados Hidrom\xe9tricos 24h"),ee&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"select-buttons"},o.a.createElement("button",{onClick:()=>Q("hidro_24h",!0)},"Selecionar todos"),o.a.createElement("button",{onClick:()=>Q("hidro_24h",!1)},"Desmarcar todos")),o.a.createElement("div",{className:"filters"},Object.keys(R).map(e=>o.a.createElement("label",{key:e,className:"label-checkbox"},o.a.createElement("input",{type:"checkbox",name:e,className:"hydro-checkbox",checked:R[e],onChange:K}),g[e]))))),o.a.createElement("div",{id:"list-stations"},o.a.createElement("label",{htmlFor:"list"},"Lista de c\xf3digos de esta\xe7\xf5es:"),o.a.createElement("textarea",{rows:"3",cols:"50",placeholder:"Digite os c\xf3digos das esta\xe7\xf5es separados por v\xedrgulas",value:a,onChange:e=>t(e.target.value),style:{resize:"vertical"},id:"list"}))),o.a.createElement("div",{className:"action-icons"},o.a.createElement("div",{className:"icon-container",id:"faSearch"},o.a.createElement("div",{className:"icon",onClick:async()=>{const e=await G();e&&c(e)}},o.a.createElement(x.a,{icon:T.e}),o.a.createElement("span",{className:"tooltip-text"},"Buscar e Exibir Dados"))),o.a.createElement("div",{className:"icon-container",id:"faEye"},o.a.createElement("div",{className:"icon",onClick:async()=>{const e=await(async()=>{const e=await G();if(!e)return;const a={};for(let t in e)a[t]={...e[t]},s.detalhes?a[t].detalhes={items:e[t].detalhes.items.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[a]=e;return j[a]})))}:delete a[t].detalhes,s.hidro_24h?a[t].hidro_24h={items:e[t].hidro_24h.items.map(e=>Object.fromEntries(Object.entries(e).filter(e=>{let[a]=e;return R[a]})))}:delete a[t].hidro_24h,s.chuva_ult?a[t].chuva_ult={items:e[t].chuva_ult.items.filter(e=>{const a=e["'soma_ult_leituras'"];return A[a]})}:delete a[t].chuva_ult;return console.log("Dados filtrados:",a),a})();if(e){const a=U(e);console.log("Dados para pr\xe9-visualiza\xe7\xe3o:",a),O(a),N(!0)}}},o.a.createElement(x.a,{icon:T.c}),o.a.createElement("span",{className:"tooltip-text"},"Revisar Dados Antes do Download"))),o.a.createElement("div",{className:"icon-container",id:"faFileDownload"},o.a.createElement("div",{className:"icon",onClick:$},o.a.createElement(x.a,{icon:T.d}),o.a.createElement("span",{className:"tooltip-text"},"Confirmar e Baixar Dados XLSX")))),n&&o.a.createElement(F,{className:"data-view",data:n,selectedDetails:j,selectedRainSummary:A,selectedHydro24h:R}),r&&o.a.createElement(L,{message:d,onClose:()=>{i(!1)}}),f&&o.a.createElement(H,{data:y,onConfirm:$,onCancel:()=>{N(!1)},selectedDetails:j,selectedRainSummary:A,selectedHydro24h:R}))};t(493);var P=()=>{const e=Object(r.m)(),a=Object(r.o)(),{data:t,stationName:l}=e.state||{};if(!t)return o.a.createElement("div",null,"Nenhum dado dispon\xedvel.");const n=t.map(e=>({data:N(e.data),chuva:parseFloat(e.chuva),nivel:parseFloat(e.nivel),vazao:parseFloat(e.vazao)}));return o.a.createElement("div",{className:"all-hydro-data-container"},o.a.createElement("div",{className:"station-header"},o.a.createElement("div",{className:"station-header-inner"},o.a.createElement("h3",{className:"station-name"},l||"Nome n\xe3o dispon\xedvel")),o.a.createElement("h4",{className:"station-title"},"Dados Hidrom\xe9tricos 24h")),o.a.createElement("div",{className:"chart-container"},o.a.createElement("h4",{className:"text-center"},"Chuva (mm)"),o.a.createElement(C.a,{width:"100%",height:300},o.a.createElement(_.a,{data:n.slice().reverse(),margin:{left:10,right:20}},o.a.createElement(j.a,{strokeDasharray:"3 3"}),o.a.createElement(w.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),o.a.createElement(A.a,{domain:D(n,"chuva"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),o.a.createElement(I.a,{formatter:e=>"".concat(e," mm")}),o.a.createElement(R.a,{type:"linear",dataKey:"chuva",stroke:"#3498db",strokeWidth:4,dot:{r:4},activeDot:{r:8}})))),o.a.createElement("div",{className:"chart-container"},o.a.createElement("h4",{className:"text-center"},"N\xedvel (cm)"),o.a.createElement(C.a,{width:"100%",height:300},o.a.createElement(_.a,{data:n.slice().reverse(),margin:{left:25,right:20}},o.a.createElement(j.a,{strokeDasharray:"3 3"}),o.a.createElement(w.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),o.a.createElement(A.a,{domain:D(n,"nivel"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),o.a.createElement(I.a,{formatter:e=>"".concat(e," cm")}),o.a.createElement(R.a,{type:"step",dataKey:"nivel",stroke:"#82ca9d",strokeWidth:2,dot:{r:4},activeDot:{r:8}})))),o.a.createElement("div",{className:"chart-container"},o.a.createElement("h4",{className:"text-center"},"Vaz\xe3o (m\xb3/s)"),o.a.createElement(C.a,{width:"100%",height:300},o.a.createElement(_.a,{data:n.slice().reverse(),margin:{left:30,right:20}},o.a.createElement(j.a,{strokeDasharray:"3 3"}),o.a.createElement(w.a,{dataKey:"data",tickFormatter:e=>new Date(e.replace(/(\d{2})\/(\d{2})\/(\d{4}),/,"$2/$1/$3")).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),defaultValue:""}),o.a.createElement(A.a,{domain:D(n,"vazao"),tickFormatter:e=>e.toFixed(2),defaultValue:[0,1]}),o.a.createElement(I.a,{formatter:e=>"".concat(e," m\xb3/s")}),o.a.createElement(R.a,{type:"monotone",dataKey:"vazao",stroke:"#ffc658",strokeWidth:3,dot:{r:4},activeDot:{r:8}})))),o.a.createElement("button",{className:"btn-voltar",onClick:()=>a(-1)},"Voltar"))};var G=()=>{var e;const a=Object(r.m)(),t=Object(r.o)(),l=null===(e=a.state)||void 0===e?void 0:e.data;return l?o.a.createElement("div",null,o.a.createElement("h3",null,"Detalhes da Esta\xe7\xe3o ",l.detalhes.items[0].codigo),o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"C\xf3digo"),o.a.createElement("td",null,l.detalhes.items[0].codigo)),o.a.createElement("tr",null,o.a.createElement("td",null,"Nome"),o.a.createElement("td",null,l.detalhes.items[0].nome)),o.a.createElement("tr",null,o.a.createElement("td",null,"Bacia"),o.a.createElement("td",null,l.detalhes.items[0].bacia)),o.a.createElement("tr",null,o.a.createElement("td",null,"Rio"),o.a.createElement("td",null,l.detalhes.items[0].rio)),o.a.createElement("tr",null,o.a.createElement("td",null,"Estado"),o.a.createElement("td",null,l.detalhes.items[0].estado)),o.a.createElement("tr",null,o.a.createElement("td",null,"Munic\xedpio"),o.a.createElement("td",null,l.detalhes.items[0].municipio)),o.a.createElement("tr",null,o.a.createElement("td",null,"Respons\xe1vel"),o.a.createElement("td",null,l.detalhes.items[0].responsavel)),o.a.createElement("tr",null,o.a.createElement("td",null,"Operadora"),o.a.createElement("td",null,l.detalhes.items[0].operadora)),o.a.createElement("tr",null,o.a.createElement("td",null,"Latitude"),o.a.createElement("td",null,y(l.detalhes.items[0].latitude))),o.a.createElement("tr",null,o.a.createElement("td",null,"Longitude"),o.a.createElement("td",null,y(l.detalhes.items[0].longitude))),o.a.createElement("tr",null,o.a.createElement("td",null,"\xc1rea de Drenagem"),o.a.createElement("td",null,y(l.detalhes.items[0].areadrenagem))),o.a.createElement("tr",null,o.a.createElement("td",null,"Tipo de Esta\xe7\xe3o"),o.a.createElement("td",null,l.detalhes.items[0].tipoestacao)),o.a.createElement("tr",null,o.a.createElement("td",null,"Operando"),o.a.createElement("td",null,l.detalhes.items[0].operando)),o.a.createElement("tr",null,o.a.createElement("td",null,"Telem\xe9trica"),o.a.createElement("td",null,l.detalhes.items[0].telemetrica)),o.a.createElement("tr",null,o.a.createElement("td",null,"Climatol\xf3gica"),o.a.createElement("td",null,l.detalhes.items[0].climatologica)),o.a.createElement("tr",null,o.a.createElement("td",null,"Pluvi\xf4metro"),o.a.createElement("td",null,l.detalhes.items[0].pluviometro)),o.a.createElement("tr",null,o.a.createElement("td",null,"Registrador de Chuva"),o.a.createElement("td",null,l.detalhes.items[0].registradorchuva)),o.a.createElement("tr",null,o.a.createElement("td",null,"Escala"),o.a.createElement("td",null,l.detalhes.items[0].escala)),o.a.createElement("tr",null,o.a.createElement("td",null,"Registrador de N\xedvel"),o.a.createElement("td",null,l.detalhes.items[0].registradornivel)),o.a.createElement("tr",null,o.a.createElement("td",null,"Descarga L\xedquida"),o.a.createElement("td",null,l.detalhes.items[0].descargaliquida)),o.a.createElement("tr",null,o.a.createElement("td",null,"Sedimentos"),o.a.createElement("td",null,l.detalhes.items[0].sedimentos)),o.a.createElement("tr",null,o.a.createElement("td",null,"Qualidade da \xc1gua"),o.a.createElement("td",null,l.detalhes.items[0].qualidadedaagua)),o.a.createElement("tr",null,o.a.createElement("td",null,"Tanque Evapo"),o.a.createElement("td",null,l.detalhes.items[0].tanqueevapo)))),o.a.createElement("button",{onClick:()=>t(-1)},"Voltar")):o.a.createElement("div",null,"Nenhum dado dispon\xedvel.")};t(494);var U=()=>o.a.createElement("div",{className:"loading-overlay"},o.a.createElement("div",{className:"loading-spinner"}));t(495);const B=()=>{const{loading:e}=m();return e?o.a.createElement(U,null):null};var J=()=>o.a.createElement(d,null,o.a.createElement(s.a,null,o.a.createElement("nav",{className:"navbar"},o.a.createElement("ul",{className:"nav-list"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(s.b,{to:"/",end:!0,className:e=>{let{isActive:a}=e;return a?"nav-link active":"nav-link"}},"IN\xcdCIO")),o.a.createElement("li",{className:"nav-item"},o.a.createElement(s.b,{to:"/data-input",className:e=>{let{isActive:a}=e;return a?"nav-link active":"nav-link"}},"PESQUISAR ESTA\xc7\xd5ES")))),o.a.createElement(r.c,null,o.a.createElement(r.a,{path:"/",element:o.a.createElement(u,null)}),o.a.createElement(r.a,{path:"/data-input",element:o.a.createElement(q,null)}),o.a.createElement(r.a,{path:"/all-hydro-data",element:o.a.createElement(P,null)}),o.a.createElement(r.a,{path:"/station-details",element:o.a.createElement(G,null)})),o.a.createElement(B,null)));t(496),t(497);c.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(J,null)))}},[[259,1,2]]]);
//# sourceMappingURL=main.7dfa2b46.chunk.js.map